<!--
@license
Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->
<link rel="import" href="../../bower_components/app-layout/app-grid/app-grid-style.html">
<link rel="import" href="../majcore/my-sous_liste_behavior.html">

<dom-module id="my-liste_type_operation">

  <template>
		<style >
			my-sous_liste_behavior{
				--max_widthliste:var(--max_width_liste);
			}
  		</style>
  		<my-sous_liste_behavior 
  			detail_code="my-profiltype_operation" 
  			
  			title="Types d'opÃ©ration"
  			title_background_color="rgba(50, 170, 25, 0.5)"
  			
  			params="{{params_alltype_operation}}"
  			
  			hideother_onedit=false
  			hideothereditbutton_onedit=true
  			grants="{{grants}}"
  			
  			scroll_actif=false
  			max_heightliste="20vh"
  			
  			charge_table$="{{charge_table}}"
  			dropdowntype$="{{dropdowntype}}"
  			value_sel="{{value_sel}}"
  			dropdown_selobj="{{dropdown_selobj}}"
  		>
  		<!-- limite_creation=1 
  			dropdowntype=false-->
		</my-sous_liste_behavior>
  </template>
  <script>
  Polymer({

	  is: 'my-liste_type_operation',
	  
	  properties: {  
  		 params_alltype_operation:{type: Object,
	   	 	  notify : true,
	   	 	  value: {type:'get',action:'listtype_operation'}
	        },
	  	 grants:{type:Object,
	  	 		 notify : true,
	  	 		 value : {creation:false,
		  	 			 modification:false,
		  	 			 suppression:false,
		  	 			 impression:false}
	  	 	 },
	     liste_type_operation:{type:Array,
	    	 notify:true},
	    	 
	     dropdown_selobj:{type:Object,notify:true},
	     value_sel:{type:Number,notify:true,value:6},
	     charge_table:{type:Boolean,notify:true}
	  },


	  ready:function(){
	 		this.app = document.querySelector('#app');
	  		if (this.app.droit_tarif=='N'){
	  			this.set('grants.creation',false);
	  			this.set('grants.modification',false);
	  			this.set('grants.suppression',false);
	  		} else {
	  			this.set('grants.creation',false);
	  			this.set('grants.modification',true);
	  			this.set('grants.suppression',false);
	  		}
	}


  })
  </script>

</dom-module>
